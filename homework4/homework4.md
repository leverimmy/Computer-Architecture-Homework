# 第 4 次作业

## 第 1 题（教材 3.9）

> 在一个 $5$ 段流水线处理机上，各段执行时间均为 $\Delta t$，需要经 $9\Delta t$ 才能完成一个任务，其预约表如下表所示。
>
> |功能段 \ 时间 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ | $8$ | $9$ |
> |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
> | $S_1$ | $\checkmark$  |   |   |   |   |   |   |   | $\checkmark$  |
> | $S_2$ |   | $\checkmark$  | $\checkmark$  |   |   |   |   |   |   |
> | $S_3$ |   |   |   | $\checkmark$  |   |   | $\checkmark$  | $\checkmark$  |   |
> | $S_4$ |   |   |   | $\checkmark$  | $\checkmark$  |   |   |   |   |
> | $S_5$ |   |   |   |   |   | $\checkmark$  | $\checkmark$  |   |   |
>
> (1) 画出流水线任务调度的状态转移图。
>
> (2) 求流水线的最优调度策略和流水线的最大吞吐率。
>
> (3) 按最优调度策略连续输入 $6$ 个任务，流水线的实际吞吐率是多少？

## 第 2 题（教材 3.10）

> 有一个 $5$ 段流水线，各段执行时间均为 $\Delta t$，其预约表如下表所示。
>
> |功能段 \ 时间 | $1$ | $2$ | $3$ | $4$ | $5$ | $6$ | $7$ |
> |:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|
> | $S_1$ | $\checkmark$  |   |   |   |   |   | $\checkmark$  |
> | $S_2$ |   | $\checkmark$  |   |   | $\checkmark$  |   |   |
> | $S_3$ |   |   | $\checkmark$  | $\checkmark$  |   |   |   |
> | $S_4$ |   |   |   | $\checkmark$  |   |   | $\checkmark$  |
> | $S_5$ |   |   |   |   | $\checkmark$  | $\checkmark$  |   |
>
> (1) 画出流水线任务调度的状态转移图。
>
> (2) 分别求出允许不等时间间隔调度和等时间间隔调度的两种最优调度策略，计算两种调度策略的流水线最大吞吐率。
>
> (3) 若连续输入 $10$ 个任务，分别求采用这两种调度策略的流水线的实际吞吐率和加速比。

## 第 3 题（教材 3.12）

> 假设各种分支指令数占所有指令数的百分比如下表所示。
>
> | 分支种类 | 占比 |
> | :-: | :-: |
> | 条件分支 | $20\%$（其中的 $60\%$ 是分支成功的） |
> | 跳转和调用 | $5\%$ |
>
> 现有一条段数为 $4$ 的流水线，无条件分支在第二个时钟周期结束时就被解析出来，而条件分支要到第三个时钟周期结束时才能够被解析出来。第一个流水段是完全独立于指令类型的，即所有类型的指令都必须经过第一个流水段的处理。请问在没有任何控制相关的情况下，该流水线相对于存在上述控制相关情况下的加速比是多少?
